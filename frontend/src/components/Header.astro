---
import UserNav from './UserNav';
---

<header class="sticky top-0 z-50 w-full border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60">
  <nav class="container mx-auto flex h-16 items-center justify-between px-4">
    <a href="/" class="flex items-center gap-2 text-xl font-bold">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="h-6 w-6 text-amber-500"
        aria-hidden="true"
      >
        <path d="m11.9 12.1 4.514-4.514" />
        <path d="M20.1 2.3a1 1 0 0 0-1.4 0l-1.114 1.114A2 2 0 0 0 17 4.828v1.344a2 2 0 0 1-.586 1.414A2 2 0 0 1 17.828 7h1.344a2 2 0 0 0 1.414-.586L21.7 5.3a1 1 0 0 0 0-1.4z" />
        <path d="m6 16 2 2" />
        <path d="M8.2 9.9C8.7 8.8 9.8 8 11 8c2.8 0 5 2.2 5 5 0 1.2-.8 2.3-1.9 2.8l-.9.4A2 2 0 0 0 12 18a4 4 0 0 1-4 4c-3.3 0-6-2.7-6-6a4 4 0 0 1 4-4 2 2 0 0 0 1.8-1.2z" />
        <path d="m6 12 2-2" />
      </svg>
      <span class="text-amber-500">Tone Shootout</span>
    </a>

    <!-- Desktop Navigation -->
    <div class="hidden items-center gap-6 md:flex">
      <a
        href="/shootouts"
        class="text-sm font-medium text-muted-foreground transition-colors hover:text-amber-400"
      >
        Browse
      </a>
      <a
        href="/shootouts/new"
        class="text-sm font-medium text-muted-foreground transition-colors hover:text-amber-400"
      >
        Create
      </a>
      <UserNav client:load />
    </div>

    <!-- Mobile Menu Button -->
    <button
      type="button"
      class="inline-flex items-center justify-center rounded-md p-2 text-muted-foreground hover:bg-accent hover:text-accent-foreground md:hidden"
      aria-label="Toggle menu"
      id="mobile-menu-button"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="h-6 w-6"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
        stroke-width="2"
        aria-hidden="true"
      >
        <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
      </svg>
    </button>
  </nav>

  <!-- Mobile Navigation -->
  <div class="hidden border-t border-border md:hidden" id="mobile-menu">
    <div class="space-y-1 px-4 py-3">
      <a
        href="/shootouts"
        class="block rounded-md px-3 py-2 text-base font-medium text-muted-foreground hover:bg-accent hover:text-accent-foreground"
      >
        Browse
      </a>
      <a
        href="/shootouts/new"
        class="block rounded-md px-3 py-2 text-base font-medium text-muted-foreground hover:bg-accent hover:text-accent-foreground"
      >
        Create
      </a>
      <div class="px-3 py-2">
        <UserNav client:load />
      </div>
    </div>
  </div>
</header>

<script>
  const button = document.getElementById('mobile-menu-button');
  const menu = document.getElementById('mobile-menu');

  button?.addEventListener('click', () => {
    menu?.classList.toggle('hidden');
  });
</script>
