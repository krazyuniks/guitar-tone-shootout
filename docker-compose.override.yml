# docker-compose.override.yml
# Auto-generated by worktree.py - DO NOT EDIT MANUALLY
# Worktree: 71-add-cloudbeaver-database-gui-to-docker-c
# Branch: 71/add-cloudbeaver-database-gui-to-docker-c
# Generated: 2025-12-27T12:06:16.678518+00:00
#
# This file overrides docker-compose.yml with worktree-specific ports and volumes.
# The shared model cache volume (gts-model-cache) is mounted read-only.

services:
  backend:
    container_name: gts-71-add-cloudbeaver-d-backend
    ports:
      - "127.0.0.1:8010:8000"
    volumes:
      - ./backend:/app
      - ./pipeline:/pipeline:ro
      - gts-model-cache:/data/models/cache:ro
      - gts-71-add-cloudbeaver-database-gui-to-docker-c-uploads:/data/uploads
    environment:
      - PUBLIC_API_URL=http://localhost:8010

  frontend:
    container_name: gts-71-add-cloudbeaver-d-frontend
    ports:
      - "127.0.0.1:4331:4321"
    environment:
      - PUBLIC_API_URL=http://localhost:8010

  worker:
    container_name: gts-71-add-cloudbeaver-d-worker
    volumes:
      - ./backend:/app
      - ./pipeline:/pipeline:ro
      - gts-model-cache:/data/models/cache:ro

  db:
    container_name: gts-71-add-cloudbeaver-d-db
    ports:
      - "127.0.0.1:5433:5432"
    volumes:
      - gts-71-add-cloudbeaver-database-gui-to-docker-c-postgres:/var/lib/postgresql/data

  redis:
    container_name: gts-71-add-cloudbeaver-d-redis
    ports:
      - "127.0.0.1:6380:6379"
    volumes:
      - gts-71-add-cloudbeaver-database-gui-to-docker-c-redis:/data

  cloudbeaver:
    container_name: gts-71-add-cloudbeaver-d-cloudbeaver
    ports:
      - "127.0.0.1:8988:8978"
    volumes:
      - gts-71-add-cloudbeaver-database-gui-to-docker-c-cloudbeaver:/opt/cloudbeaver/workspace
    environment:
      CB_SERVER_NAME: "GTS 71-add-cloudbeaver-database-gui-to-docker-c"

volumes:
  gts-71-add-cloudbeaver-database-gui-to-docker-c-postgres:
  gts-71-add-cloudbeaver-database-gui-to-docker-c-redis:
  gts-71-add-cloudbeaver-database-gui-to-docker-c-uploads:
  gts-71-add-cloudbeaver-database-gui-to-docker-c-cloudbeaver:
  gts-model-cache:
    external: true